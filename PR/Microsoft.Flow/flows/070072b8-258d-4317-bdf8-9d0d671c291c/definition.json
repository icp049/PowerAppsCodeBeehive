{"name":"bceca4f1-bd98-4df3-8e8b-b92e1220c2ff","id":"/providers/Microsoft.Flow/flows/bceca4f1-bd98-4df3-8e8b-b92e1220c2ff","type":"Microsoft.Flow/flows","properties":{"apiId":"/providers/Microsoft.PowerApps/apis/shared_logicflows","displayName":"invoice","definition":{"metadata":{"workflowEntityId":null,"processAdvisorMetadata":null,"flowChargedByPaygo":null,"flowclientsuspensionreason":"None","flowclientsuspensiontime":null,"flowclientsuspensionreasondetails":null,"creator":{"id":"b3762a91-8ef3-4b83-9c6d-dd64a2a3a8d2","type":"User","tenantId":"11ec8bd7-1f49-408c-aa41-a59be068953e"},"provisioningMethod":"FromDefinition","failureAlertSubscription":true,"clientLastModifiedTime":"2024-01-29T20:05:54.4256421Z","connectionKeySavedTimeKey":"2024-01-29T20:05:54.4256421Z"},"$schema":"https://schema.management.azure.com/providers/Microsoft.Logic/schemas/2016-06-01/workflowdefinition.json#","contentVersion":"1.0.0.0","parameters":{"$authentication":{"defaultValue":{},"type":"SecureObject"},"$connections":{"defaultValue":{},"type":"Object"}},"triggers":{"manual":{"metadata":{"operationMetadataId":"ddb0c38a-c10a-4a31-981e-bc7e24fe85c8"},"type":"Request","kind":"PowerAppV2","inputs":{"schema":{"type":"object","properties":{"file":{"title":"File Content","type":"object","x-ms-dynamically-added":true,"description":"Please select file or image","x-ms-content-hint":"FILE","properties":{"name":{"type":"string"},"contentBytes":{"type":"string","format":"byte"}}}},"required":[]}}}},"actions":{"Send_an_email_(V2)":{"runAfter":{"Create_file":["Succeeded"]},"metadata":{"operationMetadataId":"e6236828-783b-47a6-957a-ba050227fd65"},"type":"OpenApiConnection","inputs":{"parameters":{"emailMessage/To":"ipedeglorio@reginalibrary.ca","emailMessage/Subject":"Invoice Payment Request","emailMessage/Body":"<p>This email contains an invoice payment request</p>","emailMessage/Attachments":[{"Name":"@triggerBody()?['file']['name']","ContentBytes":"@triggerBody()?['file']?['contentBytes']"}],"emailMessage/Importance":"Normal"},"host":{"apiId":"/providers/Microsoft.PowerApps/apis/shared_office365","connectionName":"shared_office365","operationId":"SendEmailV2"},"authentication":{"value":"@json(decodeBase64(triggerOutputs().headers['X-MS-APIM-Tokens']))['$ConnectionKey']","type":"Raw"}}},"Create_file":{"runAfter":{},"metadata":{"operationMetadataId":"8719f92e-ebaa-4a89-9395-38da7b502306"},"type":"OpenApiConnection","inputs":{"parameters":{"dataset":"https://reginapubliclibrary.sharepoint.com/sites/FormsPrototype2","folderPath":"/InvoiceTemp","name":"@triggerBody()?['file']?['name']","body":"@triggerBody()?['file']?['contentBytes']"},"host":{"apiId":"/providers/Microsoft.PowerApps/apis/shared_sharepointonline","connectionName":"shared_sharepointonline","operationId":"CreateFile"},"authentication":{"value":"@json(decodeBase64(triggerOutputs().headers['X-MS-APIM-Tokens']))['$ConnectionKey']","type":"Raw"}},"runtimeConfiguration":{"contentTransfer":{"transferMode":"Chunked"}}}}},"connectionReferences":{"shared_office365":{"connectionName":"ef35ccd5f23b4b75af15bc40830c1286","source":"Invoker","id":"/providers/Microsoft.PowerApps/apis/shared_office365","tier":"NotSpecified"},"shared_sharepointonline":{"connectionName":"shared-sharepointonl-12469f2a-423e-44fc-a731-7016f7d72ef2","source":"Invoker","id":"/providers/Microsoft.PowerApps/apis/shared_sharepointonline","tier":"NotSpecified"}},"flowFailureAlertSubscribed":false,"isManaged":false}}